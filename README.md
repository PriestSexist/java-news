# Java-news

## О сервисе
Это RESTful web-сервис для работы с новостями и их типами. Реализовано CRUD для новостей и их типов, а также возможность плоучения всех новостей по конкретному типу, а также вывод всех новостей и всех типов.

## Stack
Java, Spring Boot, PostgreSQL, Docker, JPA(Hibernate), Maven, Lombok.

## Архитектура
_______________________________________________________________
Архитектура монолитная
_______________________________________________________________

## end-points

Для работы с новостями реализованы слеующие end-point:
1) Post запрос для добавления новостей.
   Адрес: "localhost:8080/news".
   Пример body:
   ```sh
   {
    "name": "ааааааааааааааааааааааааааааааааааааа", 
    "shortDescription": "ааааааааааааааааааааааааааааааааааааа", 
    "longDescription": "ааааааааааааааааааааааааааааааааааааа", 
    "typeId": 1
   }
   ```
   Реализована валидацияю.
   Поле "name" должно быть больше 16 и меньше 256 символов. 
   Поле "shortDescription" должно быть больше 16 и меньше 2048 символов. 
   Поле "longDescription должно быть больше 16 и меньше 8192 символов. 
   В базе данных должке присутствовать тип новости, айди которого указан в поле "typeId"
 
2) Get запрос для полученя списка всех новостей.
   Адрес: "localhost:8080/news"
   В качестве параметров запроса, можно указать следующие параметры: номер страницы (from), размеры страниц (size), список айди новостей, которые надо найти (ids)

3) Get запрос для полученя списка новостей по определённому типу.
   Адрес: "localhost:8080/news/type"
   В качестве параметров запроса, можно указать следующие параметры: номер страницы (from), размеры страниц (size) и нужно указать следующий параметр: тип, по которому надо найти новости (typeId)

4) Patch запрос для редактирования новости по её идентификатору.
   Адрес: "localhost:8080/news/{id}"
   Пример body:
   ```sh
   {
    "name": "ааааааааааааааааааааааааааааааааааааа", 
    "shortDescription": "ааааааааааааааааааааааааааааааааааааа", 
    "longDescription": "ааааааааааааааааааааааааааааааааааааа", 
    "typeId": 1
   }
   ```
   id - идентификатор новости, которую надо поменять.
   
   Реализована валидацияю.
   Поле "name" должно быть больше 16 и меньше 256 символов. 
   Поле "shortDescription" должно быть больше 16 и меньше 2048 символов. 
   Поле "longDescription должно быть больше 16 и меньше 8192 символов. 
   В базе данных должке присутствовать тип новости, айди которого указан в поле "typeId"
   
6) Delete для удаления новости по её идентификатору
   Адрес: "localhost:8080/news/{id}"
   
   id - идентификатор новости, которую надо удалить.

Для работы с типами новостей реализованы слеующие end-point:

1) Post запрос для добавления типа новости.
   Адрес: "localhost:8080/news-type".
   Пример body:
   ```sh
    {
    "name": "bbbbbbbbbbbbbbbbbbbbbbbbb", 
    "color": "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"
    }
   ```
   Реализована валидацияю.
   Поле "name" должно быть больше 4 и меньше 64 символов. 
   Поле "color" должно быть больше 4 и меньше 32 символов. 
 
2) Get запрос для полученя списка всех типов новостей.
   Адрес: "localhost:8080/news-type"
   В качестве параметров запроса, можно указать следующие параметры: номер страницы (from), размеры страниц (size), список айди типов новостей, которые надо найти (ids)

3) Patch запрос для редактирования типа новости по её идентификатору.
   Адрес: "localhost:8080/news-type/{id}"
   Пример body:
   ```sh
    {
    "name": "bbbbbbbbbbbbbbbbbbbbbbbbb", 
    "color": "bbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"
    }
   ```
   id - идентификатор типа новости, которую надо поменять.
   
   Реализована валидацияю.
   Поле "name" должно быть больше 4 и меньше 64 символов. 
   Поле "color" должно быть больше 4 и меньше 32 символов. 
   
4) Delete для удаления типа новости по её идентификатору
   Адрес: "localhost:8080/news-type/{id}"
   
   id - идентификатор типа новости, которую надо удалить.

## Использование
Нужен [Docker](https://www.docker.com/) для запуска приложения.

Чтобы запустить приложение, клонируйте себе проект с помощью команды:

```sh
$ git clone https://github.com/PriestSexist/java-news.git
```

Далее, при запущенном docker, выполните следующие команды, находясь в папке моего проекта:
```sh
$ docker-compose build
$ docker-compose up
```
Чтобы остановить проект, используйте коману:
```sh
$ docker-compose down
```
